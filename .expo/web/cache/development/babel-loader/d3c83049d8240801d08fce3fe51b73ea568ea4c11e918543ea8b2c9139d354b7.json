{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { useRoute } from '@react-navigation/native';\nimport { styles } from \"../styles/Styles\";\nimport CustomButton from \"../components/CustomButton\";\nimport { levels } from \"../data/levels.json\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction LevelScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    level = _useState2[0],\n    setLevel = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    explanation = _useState4[0],\n    setExplanation = _useState4[1];\n  var route = useRoute();\n  useEffect(function () {\n    var _route$params;\n    if (route != null && (_route$params = route.params) != null && _route$params.level) {\n      var _route$params2;\n      setLevel(route == null ? void 0 : (_route$params2 = route.params) == null ? void 0 : _route$params2.level);\n    }\n    var levelData = levels.find(function (level) {\n      return level.id === level;\n    });\n    setExplanation(levelData.explanation);\n  }, [level]);\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    javaCode = _useState6[0],\n    setJavaCode = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    output = _useState8[0],\n    setOutput = _useState8[1];\n  var goBackToHome = function goBackToHome() {\n    navigation.goBack();\n  };\n  var executeJavaCode = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var response = yield fetch(\"http://localhost:3000/execute\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          code: javaCode\n        })\n      });\n      var result = yield response.text();\n      setOutput(result);\n    });\n    return function executeJavaCode() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(Text, {\n      style: styles.header,\n      children: [\"Level \", level]\n    }), _jsx(Text, {\n      style: styles.instruction,\n      children: explanation\n    }), _jsx(TextInput, {\n      multiline: true,\n      style: styles.codeEditor,\n      value: javaCode,\n      onChangeText: function onChangeText(text) {\n        return setJavaCode(text);\n      }\n    }), _jsx(CustomButton, {\n      title: \"Execute Java Code\",\n      onPress: executeJavaCode\n    }), _jsx(CustomButton, {\n      title: \"Go Back\",\n      onPress: goBackToHome\n    }), _jsx(Text, {\n      style: {\n        marginTop: 10\n      },\n      children: \"Output:\"\n    }), _jsx(Text, {\n      children: output\n    })]\n  });\n}\nexport default LevelScreen;","map":{"version":3,"names":["React","useEffect","useState","View","Text","TextInput","useRoute","styles","CustomButton","levels","jsxs","_jsxs","jsx","_jsx","LevelScreen","_ref","navigation","_useState","_useState2","_slicedToArray","level","setLevel","_useState3","_useState4","explanation","setExplanation","route","_route$params","params","_route$params2","levelData","find","id","_useState5","_useState6","javaCode","setJavaCode","_useState7","_useState8","output","setOutput","goBackToHome","goBack","executeJavaCode","_ref2","_asyncToGenerator","response","fetch","method","headers","body","JSON","stringify","code","result","text","apply","arguments","style","container","children","header","instruction","multiline","codeEditor","value","onChangeText","title","onPress","marginTop"],"sources":["C:/Users/basil/ProjetMobileII/pages/LevelScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { View, Text, TextInput } from 'react-native';\r\nimport { useRoute } from '@react-navigation/native';\r\nimport { styles } from '../styles/Styles'; // Import the styles\r\nimport CustomButton from '../components/CustomButton';\r\nimport { levels } from '../data/levels.json'; // Import the JSON file\r\n\r\nfunction LevelScreen({ navigation }) {\r\n  const [level, setLevel] = useState('');\r\n  const [explanation, setExplanation] = useState('');\r\n\r\n  const route = useRoute();\r\n\r\n  useEffect(() => {\r\n      if(route?.params?.level) {\r\n          setLevel(route?.params?.level)\r\n      }\r\n\r\n      // Fetch the JSON file and set the explanation state\r\n      const levelData = levels.find((level) => level.id === level);\r\n      setExplanation(levelData.explanation);\r\n    }, [level]);\r\n\r\n  // State variable to store the Java code\r\n  const [javaCode, setJavaCode] = useState('');\r\n\r\n  // State variable to store the output of the Java code\r\n  const [output, setOutput] = useState('');\r\n\r\n  const goBackToHome = () => {\r\n    navigation.goBack();\r\n  };\r\n\r\n  const executeJavaCode = async () => {\r\n    // Send the Java code to the server\r\n    const response = await fetch(\"http://localhost:3000/execute\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ code: javaCode }),\r\n    });\r\n\r\n    // Get the output from the server\r\n    const result = await response.text();\r\n\r\n    // Set the output state\r\n    setOutput(result);\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.header}>Level {level}</Text>\r\n      <Text style={styles.instruction}>{explanation}</Text>\r\n      <TextInput\r\n        multiline\r\n        style={styles.codeEditor}\r\n        value={javaCode}\r\n        onChangeText={(text) => setJavaCode(text)}\r\n      />\r\n      <CustomButton title=\"Execute Java Code\" onPress={executeJavaCode} />\r\n      <CustomButton title=\"Go Back\" onPress={goBackToHome} />\r\n      <Text style={{ marginTop: 10 }}>Output:</Text>\r\n      <Text>{output}</Text>\r\n    </View>\r\n  );\r\n}\r\n\r\nexport default LevelScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}